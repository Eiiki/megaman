{"version":3,"file":"GAME.min.js","sources":["../globals.js","../keys.js","../handleMouse.js","../Sprite.js","../Entity.js","../Bricks.js","../Bullet.js","../Megaman.js","../update.js","../render.js","../imagesPreload.js","../main.js","../GAME.js","../consts.js","../util.js","../spatialManager.js","../entityManager.js"],"names":["handleKeydown","evt","keys","keyCode","keyUpKeys","handleKeyup","eatKey","isDown","keyChar","charCodeAt","handleMouse","g_mouseX","clientX","g_canvas","offsetLeft","g_mouseY","clientY","offsetTop","button","undefined","buttons","which","Sprite","image","sx","sy","width","height","this","scale","Entity","Bricks","descr","setup","sprite","g_sprites","brick","_scale","Bullet","bullet","Megaman","megaman_still","_verticalSpeed","_initialJumpSpeed","_isFiringBullet","_hasJumped","update","dt","shouldSkipUpdate","original_dt","console","log","NOMINAL_UPDATE_INTERVAL","du","updateSimulation","g_prevUpdateDt","g_prevUpdateDu","g_isUpdateOdd","KEY_PAUSE","g_isUpdatePaused","KEY_STEP","render","ctx","TOGGLE_CLEAR","g_doClear","TOGGLE_BOX","g_doBox","TOGGLE_UNDO_BOX","g_undoBox","TOGGLE_FLIPFLOP","g_doFlipFlop","TOGGLE_RENDER","g_doRender","util","clearCanvas","fillBox","renderSimulation","boxX","boxY","fillText","g_frameCounter","text","clearRect","imagesPreload","requiredImages","loadedImages","completionCallback","numImagesRequired","numImagesHandled","currentName","currentImage","preloadHandler","Object","length","name","onload","onerror","hasOwnProperty","Image","asyncLoad","requestedQuit","KEY_QUIT","mainIterFrame","frameTime","main","iter","createMegaman","entityManager","generateMegaman","cx","cy","velX","velY","gatherInputs","processDiagnostics","KEY_SPATIAL","g_renderSpatialDebug","spatialManager","requestPreloads","megaman_sprite","bullet_sprite","g_images","preloadDone","megaman_jump","megaman_running","megaman_fire","still","running","jumping","init","document","getElementById","g_ctx","getContext","SECS_TO_NOMINALS","consts","FULL_CIRCLE","Math","PI","RADIANS_PER_DEGREE","circlesCollides","x1","y1","r1","x2","y2","r2","r_diff","square","r_sum","x_diff","y_diff","coord_diffs","clampRange","value","lowBound","highBound","wrapRange","isBetween","almostEqual","compareValue","abs","randRange","min","max","random","x","distSq","wrappedDistSq","xWrap","yWrap","dx","dy","playSoundNow","sound","delay","currentTime","pause","play","prevfillStyle","fillStyle","fillRect","canvas","strokeCircle","y","r","beginPath","arc","stroke","fillCircle","fill","strokeBox","w","h","rect","style","oldStyle","window","addEventListener","_nextSpatialID","_entities","getNewSpatialID","register","entity","pos","getPos","spatialID","getSpatialID","posX","posY","unregister","findEntityInRange","radius","deferredSetup","strokeStyle","ID","e","_character","_bullets","_bShowRocks","_forEachOf","aCategory","fn","i","call","KILL_ME_NOW","_categories","fireBullet","push","yoinkMegamanToPos","xPos","yPos","c","status","splice","debugX","debugY","prototype","drawCentredAt","flipSprite","rotation","save","translate","rotate","drawImage","restore","drawWrappedCentredAt","sw","drawWrappedVerticalCentredAt","sh","property","_spatialID","_isDeadNow","setPos","getRadius","kill","findHitEntity","isColliding","wrapPosition","zappedSound","Audio","takeBulletHit","hitEntity","canTakeHit","origScale","KEY_JUMP","KEY_LEFT","KEY_RIGHT","KEY_FIRE","launchVel","numSubSteps","isFlipped","jumpSound","fireSound","g_runningSprite","g_bulletSpriteCnt","g_hasShotBullet","_updateSprite","oldVelX","oldVelY","framesPerSprite","runningSpriteIdx","floor","steps","dStep","computeSubStep","maybeFireBullet","updatePosition","NOMINAL_GRAVITY","computeGravity","computeThrustX","direction","spriteHalfWidth","spriteHalfHeight","maxX","minX","maxY","minY","accelY","halt","src","asyncCallback","_frameTime_ms","_frameTimeDelta_ms","_updateClocks","_iterCore","_debugRender","_isGameOver","_requestNextIteration","gameOver","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","TOGGLE_TIMER_SHOW","_doTimerShow"],"mappings":"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"}