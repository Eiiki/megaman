{"version":3,"file":"GAME.min.js","sources":["../globals.js","../keys.js","../handleMouse.js","../Sprite.js","../Entity.js","../Bullet.js","../Megaman.js","../update.js","../render.js","../imagesPreload.js","../main.js","../GAME.js","../consts.js","../util.js","../spatialManager.js","../entityManager.js"],"names":["handleKeydown","evt","keys","keyCode","handleKeyup","eatKey","isDown","keyChar","charCodeAt","handleMouse","g_mouseX","clientX","g_canvas","offsetLeft","g_mouseY","clientY","offsetTop","button","undefined","buttons","which","Sprite","image","sx","sy","width","height","this","scale","Entity","Bullet","descr","setup","fireSound","currentTime","pause","play","sprite","g_sprites","bullet","_scale","Megaman","megaman_still","_verticalSpeed","_initialJumpSpeed","_isFiringBullet","update","dt","shouldSkipUpdate","original_dt","console","log","NOMINAL_UPDATE_INTERVAL","du","updateSimulation","g_prevUpdateDt","g_prevUpdateDu","g_isUpdateOdd","KEY_PAUSE","g_isUpdatePaused","KEY_STEP","render","ctx","TOGGLE_CLEAR","g_doClear","TOGGLE_BOX","g_doBox","TOGGLE_UNDO_BOX","g_undoBox","TOGGLE_FLIPFLOP","g_doFlipFlop","TOGGLE_RENDER","g_doRender","util","clearCanvas","fillBox","renderSimulation","boxX","boxY","fillText","g_frameCounter","text","clearRect","imagesPreload","requiredImages","loadedImages","completionCallback","numImagesRequired","numImagesHandled","currentName","currentImage","preloadHandler","Object","length","name","onload","onerror","hasOwnProperty","Image","asyncLoad","requestedQuit","KEY_QUIT","mainIterFrame","frameTime","main","iter","createMegaman","entityManager","generateMegaman","cx","cy","velX","velY","gatherInputs","processDiagnostics","KEY_SPATIAL","g_renderSpatialDebug","spatialManager","requestPreloads","megaman_sprite","bullet_sprite","g_images","preloadDone","megaman_jump","megaman_running","megaman_fire","still","running","jumping","init","document","getElementById","g_ctx","getContext","SECS_TO_NOMINALS","consts","FULL_CIRCLE","Math","PI","RADIANS_PER_DEGREE","circlesCollides","x1","y1","r1","x2","y2","r2","r_diff","square","r_sum","x_diff","y_diff","coord_diffs","clampRange","value","lowBound","highBound","wrapRange","isBetween","almostEqual","compareValue","abs","randRange","min","max","random","x","distSq","wrappedDistSq","xWrap","yWrap","dx","dy","prevfillStyle","fillStyle","fillRect","canvas","strokeCircle","y","r","beginPath","arc","stroke","fillCircle","fill","w","h","style","oldStyle","window","addEventListener","_nextSpatialID","_entities","getNewSpatialID","register","entity","pos","getPos","spatialID","getSpatialID","thisEntity","posX","posY","radius","getRadius","unregister","e","findEntityInRange","deferredSetup","strokeStyle","ID","_character","_bullets","_bShowRocks","_forEachOf","aCategory","fn","i","call","KILL_ME_NOW","_categories","fireBullet","push","yoinkMegamanToPos","xPos","yPos","c","status","splice","debugX","debugY","g_megamanFlipSprite","prototype","drawAt","drawImage","drawCentredAt","rotation","save","translate","rotate","restore","drawWrappedCentredAt","sw","drawWrappedVerticalCentredAt","sh","property","_spatialID","_isDeadNow","setPos","kill","findHitEntity","isColliding","wrapPosition","Audio","zappedSound","hitEntity","canTakeHit","takeBulletHit","origScale","KEY_JUMP","KEY_LEFT","KEY_RIGHT","KEY_FIRE","launchVel","numSubSteps","jumpSound","g_runningSprite","g_hasShotBullet","_updateSprite","oldVelX","oldVelY","framesPerSprite","floor","steps","dStep","computeSubStep","maybeFireBullet","updatePosition","NOMINAL_GRAVITY","computeGravity","computeThrustX","direction","halfWidth","halfHeight","maxX","minX","maxY","minY","maxVelY","accelY","halt","src","asyncCallback","_frameTime_ms","_frameTimeDelta_ms","_updateClocks","_iterCore","_debugRender","_isGameOver","_requestNextIteration","gameOver","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","TOGGLE_TIMER_SHOW","_doTimerShow"],"mappings":"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"}