{"version":3,"file":"GAME.min.js","sources":["../globals.js","../keys.js","../handleMouse.js","../Sprite.js","../Entity.js","../Bullet.js","../Megaman.js","../update.js","../render.js","../imagesPreload.js","../main.js","../GAME.js","../consts.js","../util.js","../spatialManager.js","../entityManager.js"],"names":["handleKeydown","evt","keys","keyCode","handleKeyup","eatKey","isDown","keyChar","charCodeAt","handleMouse","g_mouseX","clientX","g_canvas","offsetLeft","g_mouseY","clientY","offsetTop","button","undefined","buttons","which","Sprite","image","sx","sy","width","height","this","scale","Entity","Bullet","descr","setup","fireSound","currentTime","pause","_scale","play","Megaman","sprite","g_sprites","megaman_still","_verticalSpeed","_initialJumpSpeed","_isFiringBullet","update","dt","shouldSkipUpdate","original_dt","console","log","NOMINAL_UPDATE_INTERVAL","du","updateSimulation","g_prevUpdateDt","g_prevUpdateDu","g_isUpdateOdd","KEY_PAUSE","g_isUpdatePaused","KEY_STEP","render","ctx","TOGGLE_CLEAR","g_doClear","TOGGLE_BOX","g_doBox","TOGGLE_UNDO_BOX","g_undoBox","TOGGLE_FLIPFLOP","g_doFlipFlop","TOGGLE_RENDER","g_doRender","util","clearCanvas","fillBox","renderSimulation","boxX","boxY","fillText","g_frameCounter","text","clearRect","imagesPreload","requiredImages","loadedImages","completionCallback","numImagesRequired","numImagesHandled","currentName","currentImage","preloadHandler","Object","length","name","onload","onerror","hasOwnProperty","Image","asyncLoad","requestedQuit","KEY_QUIT","mainIterFrame","frameTime","main","iter","createMegaman","entityManager","generateMegaman","cx","cy","gatherInputs","processDiagnostics","KEY_SPATIAL","g_renderSpatialDebug","spatialManager","requestPreloads","megaman_sprite","g_images","preloadDone","megaman_jump","megaman_running","megaman_fire","still","running","jumping","bullet","init","document","getElementById","g_ctx","getContext","SECS_TO_NOMINALS","consts","FULL_CIRCLE","Math","PI","RADIANS_PER_DEGREE","circlesCollides","x1","y1","r1","x2","y2","r2","r_diff","square","r_sum","x_diff","y_diff","coord_diffs","clampRange","value","lowBound","highBound","wrapRange","isBetween","almostEqual","compareValue","abs","randRange","min","max","random","x","distSq","wrappedDistSq","xWrap","yWrap","dx","dy","prevfillStyle","fillStyle","fillRect","canvas","strokeCircle","y","r","beginPath","arc","stroke","fillCircle","fill","w","h","style","oldStyle","window","addEventListener","_nextSpatialID","_entities","getNewSpatialID","register","entity","pos","getPos","spatialID","getSpatialID","thisEntity","posX","posY","radius","getRadius","unregister","e","findEntityInRange","deferredSetup","strokeStyle","ID","_character","_bullets","_bShowRocks","_forEachOf","aCategory","fn","i","call","KILL_ME_NOW","_categories","fireBullet","velX","velY","push","yoinkMegamanToPos","xPos","yPos","c","status","splice","debugX","debugY","g_megamanFlipSprite","prototype","drawAt","drawImage","drawCentredAt","rotation","save","translate","rotate","restore","drawWrappedCentredAt","sw","drawWrappedVerticalCentredAt","sh","property","_spatialID","_isDeadNow","setPos","kill","findHitEntity","isColliding","wrapPosition","Audio","zappedSound","hitEntity","canTakeHit","takeBulletHit","KEY_JUMP","KEY_LEFT","KEY_RIGHT","KEY_FIRE","launchVel","numSubSteps","jumpSound","g_runningSprite","g_hasShotBullet","_updateSprite","oldVelX","oldVelY","framesPerSprite","floor","steps","dStep","computeSubStep","maybeFireBullet","updatePosition","NOMINAL_GRAVITY","computeGravity","computeThrustX","direction","halfWidth","halfHeight","maxX","minX","maxY","minY","maxVelY","accelY","dX","sin","dY","cos","launchDist","relVel","relVelX","relVelY","halt","origScale","src","asyncCallback","_frameTime_ms","_frameTimeDelta_ms","_updateClocks","_iterCore","_debugRender","_isGameOver","_requestNextIteration","gameOver","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","TOGGLE_TIMER_SHOW","_doTimerShow"],"mappings":"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"}