{"version":3,"file":"GAME.min.js","sources":["../globals.js","../keys.js","../handleMouse.js","../Sprite.js","../Entity.js","../Bricks.js","../Bullet.js","../Megaman.js","../update.js","../render.js","../imagesPreload.js","../main.js","../GAME.js","../consts.js","../util.js","../spatialManager.js","../entityManager.js"],"names":["handleKeydown","evt","keys","keyCode","keyUpKeys","handleKeyup","eatKey","isDown","keyChar","charCodeAt","handleMouse","g_mouseX","clientX","g_canvas","offsetLeft","g_mouseY","clientY","offsetTop","button","undefined","buttons","which","Sprite","image","sx","sy","width","height","this","scale","Entity","Bricks","descr","setup","sprite","g_sprites","brick","_scale","Bullet","bullet","Megaman","megaman_still","_verticalSpeed","_initialJumpSpeed","_isFiringBullet","_hasJumped","update","dt","shouldSkipUpdate","original_dt","console","log","NOMINAL_UPDATE_INTERVAL","du","updateSimulation","g_prevUpdateDt","g_prevUpdateDu","g_isUpdateOdd","KEY_PAUSE","g_isUpdatePaused","KEY_STEP","render","ctx","TOGGLE_CLEAR","g_doClear","TOGGLE_BOX","g_doBox","TOGGLE_UNDO_BOX","g_undoBox","TOGGLE_FLIPFLOP","g_doFlipFlop","TOGGLE_RENDER","g_doRender","util","clearCanvas","fillBox","renderSimulation","boxX","boxY","fillText","g_frameCounter","text","clearRect","imagesPreload","requiredImages","loadedImages","completionCallback","numImagesRequired","numImagesHandled","currentName","currentImage","preloadHandler","Object","length","name","onload","onerror","hasOwnProperty","Image","asyncLoad","requestedQuit","KEY_QUIT","mainIterFrame","frameTime","main","iter","createMegaman","entityManager","generateMegaman","cx","cy","velX","velY","gatherInputs","processDiagnostics","KEY_SPATIAL","g_renderSpatialDebug","spatialManager","requestPreloads","megaman_sprite","bullet_sprite","g_images","preloadDone","megaman_jump","megaman_running","megaman_fire","still","running","jumping","init","document","getElementById","g_ctx","getContext","SECS_TO_NOMINALS","consts","FULL_CIRCLE","Math","PI","RADIANS_PER_DEGREE","circlesCollides","x1","y1","r1","x2","y2","r2","r_diff","square","r_sum","x_diff","y_diff","coord_diffs","clampRange","value","lowBound","highBound","wrapRange","isBetween","almostEqual","compareValue","abs","randRange","min","max","random","x","distSq","wrappedDistSq","xWrap","yWrap","dx","dy","playSoundNow","sound","delay","currentTime","pause","play","prevfillStyle","fillStyle","fillRect","canvas","strokeCircle","y","r","beginPath","arc","stroke","fillCircle","fill","strokeBox","w","h","rect","style","oldStyle","window","addEventListener","_nextSpatialID","_entities","getNewSpatialID","register","entity","pos","getPos","spatialID","getSpatialID","thisEntity","posX","posY","unregister","e","findEntityInRange","radius","deferredSetup","strokeStyle","ID","_character","_bullets","_bShowRocks","_forEachOf","aCategory","fn","i","call","KILL_ME_NOW","_categories","fireBullet","push","yoinkMegamanToPos","xPos","yPos","c","status","splice","debugX","debugY","prototype","drawCentredAt","flipSprite","rotation","save","translate","rotate","drawImage","restore","drawWrappedCentredAt","sw","drawWrappedVerticalCentredAt","sh","property","_spatialID","_isDeadNow","setPos","getRadius","kill","findHitEntity","isColliding","wrapPosition","zappedSound","Audio","takeBulletHit","hitEntity","canTakeHit","origScale","KEY_JUMP","KEY_LEFT","KEY_RIGHT","KEY_FIRE","launchVel","numSubSteps","isFlipped","jumpSound","fireSound","g_runningSprite","g_bulletSpriteCnt","g_hasShotBullet","_updateSprite","oldVelX","oldVelY","framesPerSprite","runningSpriteIdx","floor","steps","dStep","computeSubStep","maybeFireBullet","updatePosition","NOMINAL_GRAVITY","computeGravity","computeThrustX","direction","spriteHalfWidth","spriteHalfHeight","maxX","minX","maxY","minY","accelY","halt","src","asyncCallback","_frameTime_ms","_frameTimeDelta_ms","_updateClocks","_iterCore","_debugRender","_isGameOver","_requestNextIteration","gameOver","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","TOGGLE_TIMER_SHOW","_doTimerShow"],"mappings":"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"}