{"version":3,"file":"GAME.min.js","sources":["../globals.js","../keys.js","../handleMouse.js","../Sprite.js","../Entity.js","../Ground.js","../Bullet.js","../Megaman.js","../update.js","../render.js","../imagesPreload.js","../main.js","../GAME.js","../consts.js","../util.js","../spatialManager.js","../entityManager.js"],"names":["handleKeydown","evt","keys","keyCode","handleKeyup","eatKey","isDown","keyChar","charCodeAt","handleMouse","g_mouseX","clientX","g_canvas","offsetLeft","g_mouseY","clientY","offsetTop","button","undefined","buttons","which","Sprite","image","sx","sy","width","height","this","scale","Entity","Ground","descr","setup","sprite","g_sprites","brick","_scale","Bullet","fireSound","currentTime","pause","play","bullet","Megaman","megaman_still","_verticalSpeed","_initialJumpSpeed","_isFiringBullet","update","dt","shouldSkipUpdate","original_dt","console","log","NOMINAL_UPDATE_INTERVAL","du","updateSimulation","g_prevUpdateDt","g_prevUpdateDu","g_isUpdateOdd","KEY_PAUSE","g_isUpdatePaused","KEY_STEP","render","ctx","TOGGLE_CLEAR","g_doClear","TOGGLE_BOX","g_doBox","TOGGLE_UNDO_BOX","g_undoBox","TOGGLE_FLIPFLOP","g_doFlipFlop","TOGGLE_RENDER","g_doRender","util","clearCanvas","fillBox","renderSimulation","boxX","boxY","fillText","g_frameCounter","text","clearRect","imagesPreload","requiredImages","loadedImages","completionCallback","numImagesRequired","numImagesHandled","currentName","currentImage","preloadHandler","Object","length","name","onload","onerror","hasOwnProperty","Image","asyncLoad","requestedQuit","KEY_QUIT","mainIterFrame","frameTime","main","iter","createMegaman","entityManager","generateMegaman","cx","cy","velX","velY","gatherInputs","processDiagnostics","KEY_SPATIAL","g_renderSpatialDebug","spatialManager","requestPreloads","megaman_sprite","bullet_sprite","g_images","preloadDone","megaman_jump","megaman_running","megaman_fire","still","running","jumping","init","document","getElementById","g_ctx","getContext","SECS_TO_NOMINALS","consts","FULL_CIRCLE","Math","PI","RADIANS_PER_DEGREE","circlesCollides","x1","y1","r1","x2","y2","r2","r_diff","square","r_sum","x_diff","y_diff","coord_diffs","clampRange","value","lowBound","highBound","wrapRange","isBetween","almostEqual","compareValue","abs","randRange","min","max","random","x","distSq","wrappedDistSq","xWrap","yWrap","dx","dy","prevfillStyle","fillStyle","fillRect","canvas","strokeCircle","y","r","beginPath","arc","stroke","fillCircle","fill","strokeBox","w","h","rect","style","oldStyle","window","addEventListener","_nextSpatialID","_entities","getNewSpatialID","register","entity","pos","getPos","spatialID","getSpatialID","thisEntity","posX","posY","unregister","e","findEntityInRange","radius","deferredSetup","strokeStyle","ID","_character","_bullets","_bShowRocks","_forEachOf","aCategory","fn","i","call","KILL_ME_NOW","_categories","fireBullet","push","yoinkMegamanToPos","xPos","yPos","c","status","splice","debugX","debugY","prototype","drawCentredAt","flipSprite","rotation","save","translate","rotate","drawImage","restore","drawWrappedCentredAt","sw","drawWrappedVerticalCentredAt","sh","property","_spatialID","_isDeadNow","setPos","getRadius","kill","findHitEntity","isColliding","wrapPosition","Audio","zappedSound","hitEntity","canTakeHit","takeBulletHit","origScale","KEY_JUMP","KEY_LEFT","KEY_RIGHT","KEY_FIRE","launchVel","numSubSteps","isFlipped","jumpSound","_playJumpSound","g_runningSprite","g_hasShotBullet","_updateSprite","oldVelX","oldVelY","framesPerSprite","runningSpriteIdx","floor","steps","dStep","computeSubStep","maybeFireBullet","updatePosition","NOMINAL_GRAVITY","computeGravity","computeThrustX","direction","spriteHalfWidth","spriteHalfHeight","maxX","minX","maxY","minY","accelY","halt","src","asyncCallback","_frameTime_ms","_frameTimeDelta_ms","_updateClocks","_iterCore","_debugRender","_isGameOver","_requestNextIteration","gameOver","requestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","TOGGLE_TIMER_SHOW","_doTimerShow"],"mappings":"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"}